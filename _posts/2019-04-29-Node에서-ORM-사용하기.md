---
layout: post
title: "[ORM] Node에서 ORM 사용하기"
description: ""
date: 2019-04-29
tags: [서버, Backend, Node, Javascript, MySQL, MariaDB]
comments: true
share: true
---

#### 참고사이트
* [Node에서 지원하는 다양한 ORM모듈](https://nodejs.libhunt.com/categories/524-odm-orm)
* [6 Best JavaScript ORMs as of 2019](https://www.slant.co/topics/11235/~javascript-orms)

---

ORM사용의 장점
* 개발의 생산성 향상
* 명확한 쿼리 (버그와 실수 감소)
* DB 의존성 감소

반대로 단점
* 튜닝의 어려움
* 복잡한 쿼리작성의 문제
* Raw쿼리에 비해 느린 실행속도


---
#### 1. 비교

| - | [`typeORM`](https://github.com/typeorm/typeorm) | [`Sequelize.js`](https://github.com/sequelize/sequelize) | [`Knex.js`](https://github.com/tgriesser/knex) |
|:-----:|:-----:|:-----:|:-----:|
| Stars (git) | 12,541 | 18,379  | 9,409 |
| Language  | TypeScript  | JavaScript | JavaScript |
| Docs (English) | +++  | +++  | + |
| Docs (Korean) | +++  | +++  | + |

[NPM trends 를 이용한 비교](https://www.npmtrends.com/sequelize-vs-typeorm-vs-knex)  

---
#### 2. Support Databases  
* TypeORM : `MySQL` / `MariaDB` / Postgres / CockroachDB / SQLite / Microsoft SQL Server / Oracle / sql.js / MongoDB NoSQL  	
* Sequelize : Postgres, `MySQL`, `MariaDB`, SQLite and Microsoft SQL Server.
* Knex :  PostgreSQL, `MySQL` and SQLite3

---

#### 3. 그래서 어떤 것을 사용할 것인가?
TypeORM, Sequelize(only TS >= 3.1 is supported.) 모두 TypeScript를 지원하므로 동일

> 참고문서
* [TypeORM Doc](https://typeorm.io/#/)
* [Sequelize Doc](http://docs.sequelizejs.com/manual/querying.html#where)

ORM사용 시 위에서 언급한 단점에 대해
* 튜닝의 어려움 => *(튜닝이 필요할만큼 복잡한 쿼리의 사용이 있을것인가?)*
* 복잡한 쿼리작성의 문제 => *(위와 동일. 이러한 상황이 생긴다면 Raw쿼리와 혼합사용)*
* Raw쿼리에 비해 느린 실행속도 => *(위와 동일. 간단한 쿼리에서의 성능차이는 체감수준 이하임)*



