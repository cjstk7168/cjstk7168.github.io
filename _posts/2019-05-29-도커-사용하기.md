---
layout: post
title: "도커(컨테이너)는 왜쓰는거야?"
description: "조그만한 서버 하나로 최대의 효율을 만들어보자"
date: 2119-05-29
categories: [Infra]
tags: [서버, Backend, Infra, Docker]
comments: true
share: true
---

![image](/images/post_3/img_docker.png)

#### 상황을 가정해봅시다.  
현재 우리 회사에 현재 A서버 1대를 가동중입니다. 1~2년 운영 하다가 사용자가 많아져서 1대로는 부족한 상황이 생겨
서버 B를 추가로 구성하였습니다. A와 동일한 서버파일을 올려 실행했으나 B에서는 실행이 되지 않습니다.

어떤 상황이 생긴것이고 그 이유가 무엇일까요?

이렇게 A와 B서버의 구성은 다릅니다. 운영체제에 설체된 패키지의 버전까지 모두 똑같지 않기 때문에
같은 서버파일이 어떤곳에서는 실행되고 어떤곳에서는 실행되지 않습니다.

이렇게 A와 B서버는 완전히 똑같지 않고, 세상에 완전히 똑같은 서버는 없다는 개념으로
이러한 서버를 눈송이서버 라고 부릅니다.


도커는 컨테이너 기반의 가상화 플랫폼 입니다.

도커 아이콘을 보면 배에 컨테이너를 싣는 모습을 하고 있습니다.
이는 서버라는 공간 위에 컨테이너를 올리는 모습과 같습니다. 백엔드 프로그램, 데이터베이스, 메세지 큐 등 심지어 서버 설정까지
컨테이너로 추상화하여 서버공간에 올릴 수 있고 이는 서버PC, AWS, GCP 등 모든 서버에서 실행할 수 있습니다.


도커는 어플리케이션 뿐만 아니라 시스템 환경까지 하나로 모아서 컨테이너로 관리합니다. 이렇게 만든 것을 도커 이미지 라고 하는데, 도커 이미지는 도서가 설치된 곳이라면
어떤 환경이든 올릴 수 있고 또 동일하게 동작합니다.


![image](/images/post_3/img_structure.png)
[출처 : https://www.docker.com/](https://www.docker.com/resources/what-container)

하나의 서버에 여러개의 컨테이너를 올려서 서로 영향을 미치지 않고 독립적으로 실행할 수 있습니다.

별도로 OS를 가상화하지 않고 직접 호스트 OS의 자원을 사용하므로 VM에 비해 상대적으로 빠르고 오버헤드가 적습니다.
